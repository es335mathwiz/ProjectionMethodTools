(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[     50947,       1260]
NotebookOptionsPosition[     47710,       1147]
NotebookOutlinePosition[     48225,       1167]
CellTagsIndexPosition[     48182,       1164]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["Debug Derivatives", "Title",
 CellChangeTimes->{{3.617200550708066*^9, 3.6172005561887484`*^9}}],

Cell["Gary S. Anderson", "Author",
 CellChangeTimes->{{3.6172005766837215`*^9, 3.617200602415076*^9}}],

Cell[CellGroupData[{

Cell["\<\
Debug using Luca\[CloseCurlyQuote]s Financial Market Model\
\>", "Section",
 CellChangeTimes->{{3.6172006065601263`*^9, 3.6172006252849464`*^9}, {
  3.6172009262594585`*^9, 3.6172009635524197`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"$OperatingSystem", "===", "\"\<Windows\>\""}], ",", 
    RowBox[{
    "SetDirectory", "[", 
     "\"\<g:/git/ProjectionMethodTools/ProjectionMethodToolsJava/code\>\"", 
     "]"}]}], "]"}], ";"}]], "Code",
 CellChangeTimes->{{3.6172006616585565`*^9, 3.617200760638857*^9}, 
   3.6172193427493825`*^9}],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"Get", "[", "\"\<prepPackages.mth\>\"", "]"}], 
  "\[IndentingNewLine]"}], "\n", 
 RowBox[{
  RowBox[{"lucaEqn", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"qq", "[", "t", "]"}], "-", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"betap", "*", 
         RowBox[{"(", 
          RowBox[{"1", "-", "rhop"}], ")"}], "*", 
         RowBox[{"qq", "[", 
          RowBox[{"t", "+", "1"}], "]"}]}], "+", 
        RowBox[{"rhop", "*", 
         RowBox[{"qq", "[", 
          RowBox[{"t", "-", "1"}], "]"}]}], "-", 
        RowBox[{"sigmap", "*", 
         RowBox[{"rr", "[", "t", "]"}]}], "+", 
        RowBox[{"ru", "[", "t", "]"}]}], ")"}]}], ",", 
     RowBox[{
      RowBox[{"rr", "[", "t", "]"}], "-", 
      RowBox[{"phip", "*", 
       RowBox[{"qq", "[", "t", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{"ru", "[", "t", "]"}], "-", 
      RowBox[{"rho$ru", "*", 
       RowBox[{"ru", "[", 
        RowBox[{"t", "-", "1"}], "]"}]}], "-", 
      RowBox[{
       RowBox[{"eps", "[", "uu", "]"}], "[", "t", "]"}]}]}], "}"}]}], 
  "\[IndentingNewLine]", "\[IndentingNewLine]"}], "\n", 
 RowBox[{"newWeightedStochasticBasis", "[", 
  RowBox[{"lucaMod", ",", "lucaEqn"}], "]"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"stateVar", ",", "nonStateVar", ",", "theShock"}], "}"}], ",", 
      "modEqns"}], "}"}], "=", 
    RowBox[{"GenerateModelCode", "[", "lucaMod", "]"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"lucaSubs", "=", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"betap", "\[Rule]", 
       RowBox[{"99", "/", "100"}]}], ",", 
      RowBox[{"phip", "\[Rule]", "1"}], ",", 
      RowBox[{"rhop", "\[Rule]", 
       RowBox[{"1", "/", "2"}]}], ",", 
      RowBox[{"sigmap", "\[Rule]", "1"}], ",", 
      RowBox[{"rUnderBar", "\[Rule]", 
       RowBox[{"2", "/", "100"}]}], ",", 
      RowBox[{"qLow", "\[Rule]", 
       RowBox[{"-", ".5"}]}], ",", 
      RowBox[{"qHigh", "\[Rule]", ".5"}], ",", 
      RowBox[{"ruLow", "\[Rule]", " ", 
       RowBox[{
        RowBox[{"-", "4"}], "*", 
        RowBox[{"sigma$u", "/", 
         RowBox[{"(", 
          RowBox[{"1", "-", "rho$ru"}], ")"}]}]}]}], ",", 
      RowBox[{"ruHigh", "\[Rule]", "  ", 
       RowBox[{"4", "*", 
        RowBox[{"sigma$u", "/", 
         RowBox[{"(", 
          RowBox[{"1", "-", "rho$ru"}], ")"}]}]}]}], ",", 
      RowBox[{"integOrder", "\[Rule]", 
       RowBox[{"{", "5", "}"}]}], ",", 
      RowBox[{"sigma$u", "\[Rule]", "0.02"}], ",", 
      RowBox[{"theMean", "\[Rule]", 
       RowBox[{"{", "0", "}"}]}], ",", 
      RowBox[{"rho$ru", "\[Rule]", " ", "0.5"}]}], "}"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"modParams", "=", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{
       "betap", ",", "phip", ",", "rhop", ",", "sigmap", ",", " ", "rho$ru"}],
        "}"}], "//.", "lucaSubs"}], "//", "N"}]}], ";"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"modEqns", "[", 
   RowBox[{"updateParams", "[", "modParams", "]"}], "]"}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"polyRange", "=", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"ruLow", ",", "ruHigh"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"qLow", ",", "qHigh"}], "}"}]}], "}"}], "/.", "lucaSubs"}]}], 
  ";"}], "\n", 
 RowBox[{
  RowBox[{"initPower", "=", 
   RowBox[{"{", 
    RowBox[{"2", ",", "2"}], "}"}]}], ";", 
  RowBox[{"shockPower", "=", 
   RowBox[{"{", "1", "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6172193957939167`*^9, 3.6172193957939167`*^9}, {
   3.6172194525584884`*^9, 3.617219453458497*^9}, 3.6172196348013105`*^9, {
   3.617223469345704*^9, 3.6172234762057734`*^9}, {3.617378650095498*^9, 
   3.6173786502090597`*^9}, {3.6173786975531683`*^9, 
   3.6173786976486588`*^9}, {3.6173797311553926`*^9, 3.617379816184729*^9}, {
   3.6173798579539824`*^9, 3.6173798781723137`*^9}, {3.617379973167391*^9, 
   3.617379992613741*^9}, {3.617380173633915*^9, 3.6173801807946568`*^9}, {
   3.617380224043084*^9, 3.617380252721751*^9}, {3.617380427378077*^9, 
   3.617380709455866*^9}, {3.617380780448409*^9, 3.617380852573468*^9}, {
   3.6173809019426947`*^9, 3.61738094029212*^9}, {3.617381096097787*^9, 
   3.6173811044769907`*^9}, {3.6173819866623983`*^9, 
   3.6173819893711433`*^9}, {3.617382160906899*^9, 3.617382182957296*^9}, {
   3.617383988326331*^9, 3.6173839890880537`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"-", "rhop"}], " ", 
     RowBox[{"qq", "[", 
      RowBox[{
       RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
    RowBox[{"qq", "[", "t", "]"}], "-", 
    RowBox[{"betap", " ", 
     RowBox[{"(", 
      RowBox[{"1", "-", "rhop"}], ")"}], " ", 
     RowBox[{"qq", "[", 
      RowBox[{"1", "+", "t"}], "]"}]}], "+", 
    RowBox[{"sigmap", " ", 
     RowBox[{"rr", "[", "t", "]"}]}], "-", 
    RowBox[{"ru", "[", "t", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"-", "phip"}], " ", 
     RowBox[{"qq", "[", "t", "]"}]}], "+", 
    RowBox[{"rr", "[", "t", "]"}]}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"-", "rho$ru"}], " ", 
     RowBox[{"ru", "[", 
      RowBox[{
       RowBox[{"-", "1"}], "+", "t"}], "]"}]}], "+", 
    RowBox[{"ru", "[", "t", "]"}], "-", 
    RowBox[{
     RowBox[{"eps", "[", "uu", "]"}], "[", "t", "]"}]}]}], "}"}]], "Output",
 CellChangeTimes->{3.617381930051594*^9, 3.617382001900516*^9, 
  3.617382217006927*^9, 3.61738375713302*^9, 3.617383994270379*^9, 
  3.617384118089086*^9, 3.617384384264619*^9}],

Cell[BoxData["\<\"/msu/scratch/m1gsa00/jdk1.6.0_02/bin/javac -cp \
./:/msu/res1/Software/mavenRepositories/tryRep//math/nist/gov/Jama/1.0.3/Jama-\
1.0.3.jar:/msu/res1/Software/mavenRepositories/tryRep//gov/frb/ma/msu/\
ProjectionMethodToolsJava/0.0.1-SNAPSHOT/ProjectionMethodToolsJava-0.0.1-\
SNAPSHOT.jar:/lcl/ofs/research2/Guerrieri/gary/ProjectionMethodTools/\
ProjectionMethodToolsJava/code:/msu/scratch/m1gsa00/learnProjection/proto:/\
msu/scratch/m1gsa00/tryRep/gov/frb/ma/msu/projection/1.0-SNAPSHOT/projection-\
1.0-SNAPSHOT.jar:/msu/scratch/m1gsa00/tryRep/gov/frb/ma/msu/Jama-1.0.2/1.0-\
SNAPSHOT/Jama-1.0.2-1.0-SNAPSHOT.jar -target 1.5 lucaMod.java\"\>"], "Print",
 CellChangeTimes->{3.617381930055739*^9, 3.61738200192959*^9, 
  3.617382217012012*^9, 3.617383757137741*^9, 3.617383994274474*^9, 
  3.617384117739163*^9, 3.6173843842689457`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"stateVar", ",", "nonStateVar", ",", "theShock"}], "}"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"qq\"\>", ",", "\<\"ru\"\>"}], "}"}], ",", 
   RowBox[{"{", "\<\"rr\"\>", "}"}], ",", 
   RowBox[{"{", "\<\"uu$Shock\"\>", "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.617384157284452*^9, 3.617384385150642*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"lucaBasis", "=", 
    RowBox[{"GenerateBasis", "[", 
     RowBox[{"stateVar", ",", 
      RowBox[{"polyRange", "//.", "lucaSubs"}], ",", "initPower", ",", 
      "theShock", ",", 
      RowBox[{"theMean", "//.", "lucaSubs"}], ",", 
      RowBox[{
       RowBox[{"{", "sigma$u", "}"}], "//.", "lucaSubs"}], ",", 
      RowBox[{"integOrder", "//.", "lucaSubs"}], ",", "shockPower", ",", 
      "nonStateVar"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
  "\[IndentingNewLine]"}]], "Input",
 CellChangeTimes->{{3.6172193957939167`*^9, 3.6172193957939167`*^9}, {
   3.6172194525584884`*^9, 3.617219453458497*^9}, 3.6172196348013105`*^9, {
   3.61738114088337*^9, 3.6173811433844337`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"numRowsCols", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"initPower", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ")"}], "*", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"shockPower", "[", 
       RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], ")"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"tryMat", "=", 
   RowBox[{"ArrayFlatten", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"ConstantArray", "[", 
        RowBox[{".1", ",", 
         RowBox[{"{", 
          RowBox[{"1", ",", "numRowsCols"}], "}"}]}], "]"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"ConstantArray", "[", 
        RowBox[{".2", ",", 
         RowBox[{"{", 
          RowBox[{"1", ",", "numRowsCols"}], "}"}]}], "]"}], "}"}]}], "}"}], 
    "]"}]}], ";"}], "\n"}], "Input",
 CellChangeTimes->{{3.6172253253272643`*^9, 3.6172253253272643`*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tryMat", "=", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "0.000000000000001", ",", "0.292289373557350", ",", "0.000000000000001",
        ",", "0.000000000000000", ",", "0.000000278748869", ",", 
       "0.000000000000000", ",", "0.000000000000000", ",", 
       "0.000000000000001", ",", "0.000000000000000"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
      "0", ",", "0", ",", "0", ",", "0", ",", "rho$ru", ",", "0", ",", "0", 
       ",", "0", ",", "0"}], "}"}]}], 
    RowBox[{"(*", 
     RowBox[{",", 
      RowBox[{"{", 
       RowBox[{
       "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
        "0", ",", "0"}], "}"}]}], "*)"}], "}"}], "//.", 
   "lucaSubs"}]}]], "Input",
 CellChangeTimes->{{3.6173830169560537`*^9, 3.617383047539804*^9}, {
  3.6173830805147943`*^9, 3.617383094331888*^9}, {3.617383227885277*^9, 
  3.6173832287442093`*^9}, {3.617383504671323*^9, 3.61738352608295*^9}, {
  3.617383582461611*^9, 3.617383588821967*^9}, {3.617383676757916*^9, 
  3.6173836905978203`*^9}, {3.617384223607359*^9, 3.617384256786854*^9}, {
  3.617384325117815*^9, 3.617384328405031*^9}, {3.617384372116934*^9, 
  3.617384378136228*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "1.`*^-15", ",", "0.29228937355735`", ",", "1.`*^-15", ",", "0.`", ",", 
     "2.78748869`*^-7", ",", "0.`", ",", "0.`", ",", "1.`*^-15", ",", "0.`"}],
     "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0", ",", "0", ",", "0", ",", "0", ",", "0.5`", ",", "0", ",", "0", ",", 
     "0", ",", "0"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.6173839956996317`*^9, 3.6173842615953493`*^9, 
  3.617384333909403*^9, 3.6173843856717377`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dimensions", "[", "tryMat", "]"}]], "Input",
 CellChangeTimes->{{3.617384339848727*^9, 3.617384346293995*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"2", ",", "9"}], "}"}]], "Output",
 CellChangeTimes->{3.6173843469454317`*^9, 3.6173843860871*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"lucaBasis", "[", 
   RowBox[{"setAllWeights", "[", "tryMat", "]"}], "]"}], "\n"}]], "Input",
 CellChangeTimes->{{3.6172253483674946`*^9, 3.6172253483674946`*^9}}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Java", "::", "excptn"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"A Java exception occurred: \
\[NoBreak]\\!\\(\\\"java.lang.ArrayIndexOutOfBoundsException: 2\\\\n\\\\tat \
gov.frb.ma.msu.ProjectionMethodToolsJava.WeightedStochasticBasis.\
setAllWeights(WeightedStochasticBasis.java:221)\\\"\\)\[NoBreak].\"\>"}]], \
"Message", "MSG",
 CellChangeTimes->{
  3.617381178786824*^9, 3.6173822187162857`*^9, 3.6173837283461647`*^9, 
   3.6173837821377287`*^9, 3.617383858591784*^9, 3.617383996622676*^9, 
   3.6173842828797817`*^9, {3.6173843662518997`*^9, 3.617384386333647*^9}}],

Cell[BoxData["$Failed"], "Output",
 CellChangeTimes->{
  3.6173811790207357`*^9, 3.617382218719479*^9, 3.6173837283583937`*^9, 
   3.6173837821404943`*^9, 3.617383858637351*^9, 3.6173839966251907`*^9, 
   3.617384282883235*^9, {3.617384366255289*^9, 3.617384386337944*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Get", "[", "\"\<lucaDebugDrv.mth\>\"", "]"}]], "Code",
 InitializationCell->False,
 CellChangeTimes->{{3.6172006616585565`*^9, 3.617200760638857*^9}, 
   3.6172193427493825`*^9}],

Cell[BoxData["\<\"/msu/scratch/m1gsa00/jdk1.6.0_02/bin/javac -cp \
./:/msu/res1/Software/mavenRepositories/tryRep//math/nist/gov/Jama/1.0.3/Jama-\
1.0.3.jar:/msu/res1/Software/mavenRepositories/tryRep//gov/frb/ma/msu/\
ProjectionMethodToolsJava/0.0.1-SNAPSHOT/ProjectionMethodToolsJava-0.0.1-\
SNAPSHOT.jar:/lcl/ofs/research2/Guerrieri/gary/ProjectionMethodTools/\
ProjectionMethodToolsJava/code:/msu/scratch/m1gsa00/learnProjection/proto:/\
msu/scratch/m1gsa00/tryRep/gov/frb/ma/msu/projection/1.0-SNAPSHOT/projection-\
1.0-SNAPSHOT.jar:/msu/scratch/m1gsa00/tryRep/gov/frb/ma/msu/Jama-1.0.2/1.0-\
SNAPSHOT/Jama-1.0.2-1.0-SNAPSHOT.jar -target 1.5 lucaMod.java\"\>"], "Print",
 CellChangeTimes->{
  3.617200761719559*^9, 3.617201643563635*^9, 3.6172078301308107`*^9, 
   3.617214777651548*^9, {3.617214852665548*^9, 3.6172148663255477`*^9}, 
   3.6172155599474893`*^9, {3.6172161199358287`*^9, 3.6172161313653717`*^9}, {
   3.6172164038172684`*^9, 3.6172164193692684`*^9}, 3.6172180842184334`*^9, 
   3.6172184175866146`*^9, 3.617218522111614*^9, 3.6172185708516145`*^9, 
   3.617219157974532*^9, 3.6172267221048107`*^9, 3.617378370538795*^9, 
   3.6173811794982347`*^9, 3.617382219018876*^9, 3.6173839971533737`*^9, 
   3.617384386898197*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Java", "::", "excptn"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"A Java exception occurred: \
\[NoBreak]\\!\\(\\\"java.lang.ArrayIndexOutOfBoundsException: 4\\\\n\\\\tat \
lucaMod.updateParams(lucaMod.java:30)\\\"\\)\[NoBreak].\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.617384387608947*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Java", "::", "excptn"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"A Java exception occurred: \
\[NoBreak]\\!\\(\\\"gov.frb.ma.msu.ProjectionMethodToolsJava.\
ProjectionRuntimeException: CollocationSolution: var>>ru) not in state\\\\n\\\
\\tat gov.frb.ma.msu.ProjectionMethodToolsJava.StateVarTime.evalVar(\
StateVarTime.java:28)\\\\n\\\\tat \
lucaMod.updateValDrv(lucaMod.java:49)\\\"\\)\[NoBreak].\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.617384394102604*^9}],

Cell[BoxData["\<\"modelDoEqnsCalcs.mtex\"\>"], "Output",
 CellChangeTimes->{3.617378374144123*^9, 3.617381182045092*^9, 
  3.617382223997076*^9, 3.617384005233355*^9, 3.617384394900041*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"doVal", "[", 
  RowBox[{"\"\<uu$Shock\>\"", ",", 
   RowBox[{"-", "1"}], ",", "lucaBasis", ",", "tryMat"}], "]"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
  3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.617203970209613*^9, 
  3.617203994052092*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", "0.04040365740912172`", "}"}], ",", 
   RowBox[{"{", "0.04040365740912172`", "}"}], ",", 
   RowBox[{"{", "0.04040365740912172`", "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.04040365740912172`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.04040365740912172`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.04040365740912172`"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.617201279737127*^9, {3.617203976379737*^9, 3.617203994632104*^9}, 
   3.6172078411425905`*^9, 3.6172147884835477`*^9, {3.617214864725548*^9, 
   3.6172148709455557`*^9}, 3.617215565107541*^9, {3.617216130475407*^9, 
   3.6172161357971954`*^9}, {3.6172164187192683`*^9, 3.6172164246712685`*^9}, 
   3.6172184277066145`*^9, {3.6172185701716146`*^9, 3.6172185752416143`*^9}, 
   3.6172191779667344`*^9, 3.617219405338016*^9, {3.61737836101868*^9, 
   3.6173783744053164`*^9}, 3.617381182162176*^9, 3.617382224143536*^9, 
   3.617384005430552*^9, 3.6173841165907793`*^9, 3.6173843952323847`*^9}]
}, Open  ]],

Cell["Values match for 0 and -1", "Text",
 CellChangeTimes->{{3.6172039244286976`*^9, 3.6172039585593805`*^9}, {
  3.617204033222844*^9, 3.617204035052862*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"cmpDrvs", "[", 
   RowBox[{"\"\<qq\>\"", ",", 
    RowBox[{"-", "1"}], ",", "lucaBasis", ",", "tryMat", ",", "0.01"}], "]"}],
   "//", "Chop"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172021068579617`*^9, 
   3.6172021091682625`*^9}, {3.6172022158261304`*^9, 
   3.6172022172263126`*^9}, {3.6172034996854887`*^9, 
   3.6172035121956134`*^9}, {3.617203700695508*^9, 3.61720370290553*^9}, 
   3.617203851933243*^9, {3.617203909876404*^9, 3.6172039107864227`*^9}, {
   3.6172040074823604`*^9, 3.617204012192455*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.617201279737127*^9, 3.617202109478303*^9, 3.6172022178263903`*^9, 
   3.6172035130256214`*^9, 3.6172035664281588`*^9, {3.6172036964454656`*^9, 
   3.617203703415535*^9}, {3.617203836472934*^9, 3.6172038594853964`*^9}, {
   3.6172039015862384`*^9, 3.61720391219645*^9}, 3.6172040131124735`*^9, 
   3.6172078412225885`*^9, 3.6172147885435476`*^9, {3.6172148650155478`*^9, 
   3.6172148710255566`*^9}, 3.6172155651875415`*^9, {3.6172161305354047`*^9, 
   3.617216135857193*^9}, {3.6172164188092685`*^9, 3.6172164247712684`*^9}, 
   3.6172184277866144`*^9, {3.6172185702616143`*^9, 3.6172185753316145`*^9}, 
   3.6172191780367355`*^9, 3.6172194053580165`*^9, {3.617378361195201*^9, 
   3.617378374551146*^9}, 3.617381182280737*^9, 3.61738222426753*^9, 
   3.617384005607202*^9, 3.617384116730146*^9, 3.61738439546605*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"cmpDrvs", "[", 
   RowBox[{
   "\"\<qq\>\"", ",", "1", ",", "lucaBasis", ",", "tryMat", ",", "0.01"}], 
   "]"}], "//", "Chop"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172021068579617`*^9, 
   3.6172021091682625`*^9}, {3.6172022158261304`*^9, 
   3.6172022172263126`*^9}, {3.6172034996854887`*^9, 
   3.6172035121956134`*^9}, {3.617203700695508*^9, 3.61720370290553*^9}, 
   3.617203851933243*^9, {3.617203909876404*^9, 3.6172039107864227`*^9}, {
   3.6172040074823604`*^9, 3.617204029632804*^9}, {3.617281037570498*^9, 
   3.617281038490507*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653065492`"}], ",", 
     RowBox[{"-", "0.015433015972433406`"}], ",", 
     RowBox[{"-", "0.009445134739842542`"}], ",", 
     RowBox[{"-", "0.0020408163265371038`"}], ",", 
     RowBox[{"-", "0.0015306122449000314`"}], ",", 
     RowBox[{"-", "0.0005102040816368641`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059941`"}], ",", "0", ",", 
     RowBox[{"-", "0.02081632653061205`"}], ",", 
     RowBox[{"-", "0.0020408163265291882`"}], ",", "0", ",", 
     RowBox[{"-", "0.0020408163265301423`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653061273`"}], ",", "0.009310566992837777`", 
     ",", "0.0026234190518379386`", ",", 
     RowBox[{"-", "0.0020408163265311086`"}], ",", 
     RowBox[{"-", "0.0015306122448983037`"}], ",", 
     RowBox[{"-", "0.0005102040816326037`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059053`"}], ",", 
     RowBox[{"-", "0.015433015972430908`"}], ",", "0.0042122743007807495`", 
     ",", 
     RowBox[{"-", "0.0020408163265301857`"}], ",", 
     RowBox[{"-", "0.0015306122448962081`"}], ",", 
     RowBox[{"-", "0.0005102040816321735`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059941`"}], ",", "0", ",", 
     RowBox[{"-", "0.02081632653061205`"}], ",", 
     RowBox[{"-", "0.0020408163265301423`"}], ",", "0", ",", 
     RowBox[{"-", "0.0020408163265291882`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059497`"}], ",", "0.009310566992838498`", 
     ",", "0.006282910774974004`", ",", 
     RowBox[{"-", "0.0020408163265315162`"}], ",", 
     RowBox[{"-", "0.001530612244897968`"}], ",", 
     RowBox[{"-", "0.0005102040816314327`"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.617201279737127*^9, 3.617202109478303*^9, 3.6172022178263903`*^9, 
   3.6172035130256214`*^9, 3.6172035664281588`*^9, {3.6172036964454656`*^9, 
   3.617203703415535*^9}, {3.617203836472934*^9, 3.6172038594853964`*^9}, {
   3.6172039015862384`*^9, 3.61720391219645*^9}, {3.6172040131124735`*^9, 
   3.6172040302828145`*^9}, 3.6172078412925873`*^9, 3.617214788593548*^9, {
   3.6172148650855474`*^9, 3.6172148710755568`*^9}, 3.617215565237542*^9, {
   3.6172161305854025`*^9, 3.617216135907191*^9}, {3.6172164188692684`*^9, 
   3.617216424821268*^9}, 3.6172184278366146`*^9, {3.6172185703316145`*^9, 
   3.617218575401614*^9}, 3.617219178096736*^9, 3.6172194053680162`*^9, 
   3.6172810611307335`*^9, {3.617378361306476*^9, 3.6173783747834578`*^9}, 
   3.6173811823997107`*^9, 3.61738222439929*^9, 3.6173840057729883`*^9, 
   3.6173841168295603`*^9, 3.617384395658806*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cmpDrvs", "[", 
  RowBox[{"\"\<uu$Shock\>\"", ",", 
   RowBox[{"-", "1"}], ",", "lucaBasis", ",", "tryMat", ",", "0.01"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.617204140487922*^9, 3.6172041697312174`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`"}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.6172041446079636`*^9, 3.617204170571226*^9}, 
   3.6172078413525867`*^9, 3.617214788643548*^9, 3.617214871175558*^9, 
   3.617215565287543*^9, 3.6172161359571886`*^9, 3.6172164248812685`*^9, 
   3.6172185754616146`*^9, 3.617219178146736*^9, 3.6173783750444193`*^9, 
   3.6173811825454884`*^9, 3.617382224534102*^9, 3.6173840059374647`*^9, 
   3.617384395861095*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"cmpDrvs", "[", 
   RowBox[{
   "\"\<qq\>\"", ",", "1", ",", "lucaBasis", ",", "tryMat", ",", "0.0001"}], 
   "]"}], "//", "Chop"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172021068579617`*^9, 
   3.6172021091682625`*^9}, {3.6172022158261304`*^9, 
   3.6172022172263126`*^9}, {3.6172034996854887`*^9, 
   3.6172035121956134`*^9}, {3.617203700695508*^9, 3.61720370290553*^9}, 
   3.617203851933243*^9, {3.617203909876404*^9, 3.6172039107864227`*^9}, {
   3.6172040074823604`*^9, 3.617204029632804*^9}, {3.6172042512060375`*^9, 
   3.6172042623561487`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653065492`"}], ",", 
     RowBox[{"-", "0.015433015972433406`"}], ",", 
     RowBox[{"-", "0.009445134739842542`"}], ",", 
     RowBox[{"-", "0.0020408163265371038`"}], ",", 
     RowBox[{"-", "0.0015306122449000314`"}], ",", 
     RowBox[{"-", "0.0005102040816368641`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059941`"}], ",", "0", ",", 
     RowBox[{"-", "0.02081632653061205`"}], ",", 
     RowBox[{"-", "0.0020408163265291882`"}], ",", "0", ",", 
     RowBox[{"-", "0.0020408163265301423`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653061273`"}], ",", "0.009310566992837777`", 
     ",", "0.0026234190518379386`", ",", 
     RowBox[{"-", "0.0020408163265311086`"}], ",", 
     RowBox[{"-", "0.0015306122448983037`"}], ",", 
     RowBox[{"-", "0.0005102040816326037`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059053`"}], ",", 
     RowBox[{"-", "0.015433015972430908`"}], ",", "0.0042122743007807495`", 
     ",", 
     RowBox[{"-", "0.0020408163265301857`"}], ",", 
     RowBox[{"-", "0.0015306122448962081`"}], ",", 
     RowBox[{"-", "0.0005102040816321735`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059941`"}], ",", "0", ",", 
     RowBox[{"-", "0.02081632653061205`"}], ",", 
     RowBox[{"-", "0.0020408163265301423`"}], ",", "0", ",", 
     RowBox[{"-", "0.0020408163265291882`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.004081632653059497`"}], ",", "0.009310566992838498`", 
     ",", "0.006282910774974004`", ",", 
     RowBox[{"-", "0.0020408163265315162`"}], ",", 
     RowBox[{"-", "0.001530612244897968`"}], ",", 
     RowBox[{"-", "0.0005102040816314327`"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.617201279737127*^9, 3.617202109478303*^9, 3.6172022178263903`*^9, 
   3.6172035130256214`*^9, 3.6172035664281588`*^9, {3.6172036964454656`*^9, 
   3.617203703415535*^9}, {3.617203836472934*^9, 3.6172038594853964`*^9}, {
   3.6172039015862384`*^9, 3.61720391219645*^9}, {3.6172040131124735`*^9, 
   3.6172040302828145`*^9}, {3.6172042530360556`*^9, 3.617204263416159*^9}, 
   3.6172078414225845`*^9, 3.6172147886935477`*^9, {3.617214865145548*^9, 
   3.6172148712255583`*^9}, 3.6172155653275433`*^9, {3.6172161306254015`*^9, 
   3.617216135997187*^9}, {3.6172164189192686`*^9, 3.6172164249312687`*^9}, 
   3.6172184278766146`*^9, {3.6172185703916144`*^9, 3.617218575521614*^9}, 
   3.617219178196737*^9, 3.6172194053880167`*^9, {3.617378361439152*^9, 
   3.617378375321691*^9}, 3.617381182661684*^9, 3.6173822246749496`*^9, 
   3.617384006060379*^9, 3.617384116914839*^9, 3.6173843960663033`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cmpDrvs", "[", 
  RowBox[{
  "\"\<rr\>\"", ",", "1", ",", "lucaBasis", ",", "tryMat", ",", "0.0001"}], 
  "]"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172021068579617`*^9, 
   3.6172021091682625`*^9}, {3.6172022158261304`*^9, 
   3.6172022172263126`*^9}, {3.6172034996854887`*^9, 
   3.6172035121956134`*^9}, {3.617203700695508*^9, 3.61720370290553*^9}, 
   3.617203851933243*^9, {3.617203909876404*^9, 3.6172039107864227`*^9}, {
   3.6172040074823604`*^9, 3.617204029632804*^9}, {3.6172042512060375`*^9, 
   3.6172042623561487`*^9}, {3.6172078949335155`*^9, 
   3.6172078955835023`*^9}, {3.6172080829197583`*^9, 3.617208091699583*^9}, {
   3.617216103616482*^9, 3.6172161063463726`*^9}, 3.6172161559563885`*^9}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.00816326530612932`"}], ",", 
     RowBox[{"-", "0.006122448979595352`"}], ",", 
     RowBox[{"-", "0.0020408163265422385`"}], ",", 
     RowBox[{"-", "0.0040816326530742075`"}], ",", 
     RowBox[{"-", "0.003061224489800063`"}], ",", 
     RowBox[{"-", "0.0010204081632737283`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.008163265306120937`"}], ",", "0.`", ",", 
     RowBox[{"-", "0.00816326530611916`"}], ",", 
     RowBox[{"-", "0.0040816326530583764`"}], ",", "0.`", ",", 
     RowBox[{"-", "0.004081632653060285`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.008163265306123879`"}], ",", 
     RowBox[{"-", "0.006122448979592451`"}], ",", 
     RowBox[{"-", "0.0020408163265315526`"}], ",", 
     RowBox[{"-", "0.004081632653062217`"}], ",", 
     RowBox[{"-", "0.0030612244897966073`"}], ",", 
     RowBox[{"-", "0.0010204081632652073`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.008163265306118966`"}], ",", 
     RowBox[{"-", "0.006122448979589787`"}], ",", 
     RowBox[{"-", "0.0020408163265276877`"}], ",", 
     RowBox[{"-", "0.004081632653060371`"}], ",", 
     RowBox[{"-", "0.0030612244897924162`"}], ",", 
     RowBox[{"-", "0.001020408163264347`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.008163265306120937`"}], ",", "0.`", ",", 
     RowBox[{"-", "0.00816326530611916`"}], ",", 
     RowBox[{"-", "0.004081632653060285`"}], ",", "0.`", ",", 
     RowBox[{"-", "0.0040816326530583764`"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.008163265306119993`"}], ",", 
     RowBox[{"-", "0.0061224489795922675`"}], ",", 
     RowBox[{"-", "0.00204081632652964`"}], ",", 
     RowBox[{"-", "0.0040816326530630324`"}], ",", 
     RowBox[{"-", "0.003061224489795936`"}], ",", 
     RowBox[{"-", "0.0010204081632628655`"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6172161565663643`*^9, {3.6172164189892683`*^9, 3.6172164250512686`*^9}, 
   3.6172184279266143`*^9, {3.6172185704616146`*^9, 3.6172185756316147`*^9}, 
   3.6172191782667375`*^9, 3.6172194054080167`*^9, {3.617378361515798*^9, 
   3.617378375574479*^9}, 3.617381182838956*^9, 3.61738222482758*^9, 
   3.61738400625963*^9, 3.6173841170081387`*^9, 3.617384396341967*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"doDrv", "[", 
   RowBox[{"\"\<qq\>\"", ",", "1", ",", "lucaBasis", ",", "tryMat"}], "]"}], "//",
   "Chop"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172021068579617`*^9, 
   3.6172021091682625`*^9}, {3.6172022158261304`*^9, 
   3.6172022172263126`*^9}, {3.6172034996854887`*^9, 
   3.6172035121956134`*^9}, {3.617203700695508*^9, 3.61720370290553*^9}, 
   3.617203851933243*^9, {3.617203909876404*^9, 3.6172039107864227`*^9}, {
   3.6172040074823604`*^9, 3.617204029632804*^9}, {3.6172042512060375`*^9, 
   3.6172042623561487`*^9}, {3.6172044197177343`*^9, 
   3.6172044461779985`*^9}, {3.617206096187196*^9, 3.6172060970371876`*^9}, {
   3.617206291613243*^9, 3.617206319636963*^9}, {3.617206658953379*^9, 
   3.617206676763379*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1.3093108580620454`", ",", "0.5591650623566735`", ",", 
     RowBox[{"-", "0.6756401802226989`"}], ",", "0.21871580523030196`", ",", 
     "0.18941344353861095`", ",", "0.10935790261515112`", ",", "0", ",", "0", 
     ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.9795918367346939`", ",", 
     RowBox[{"-", "0.2857142857142857`"}], ",", 
     RowBox[{"-", "0.8163265306122449`"}], ",", 
     RowBox[{"-", "0.01443075063646015`"}], ",", "0", ",", 
     "0.01443075063646015`", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0",
      ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1.067939782228538`", ",", 
     RowBox[{"-", "0.1899429584375551`"}], ",", 
     RowBox[{"-", "0.9316528669789478`"}], ",", "0.0480406807261364`", ",", 
     RowBox[{"-", "0.04160444992393158`"}], ",", "0.024020340363068216`", ",",
      "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"1.0361626772497`", ",", 
     RowBox[{"-", "0.15539751764592746`"}], ",", 
     RowBox[{"-", "0.9121934438036958`"}], ",", 
     RowBox[{"-", "0.025570874309123297`"}], ",", 
     RowBox[{"-", "0.022145026748679637`"}], ",", 
     RowBox[{"-", "0.012785437154561666`"}], ",", "0", ",", "0", ",", "0", 
     ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.9795918367346939`", ",", 
     RowBox[{"-", "0.2857142857142857`"}], ",", 
     RowBox[{"-", "0.8163265306122449`"}], ",", "0.01443075063646015`", ",", 
     "0", ",", 
     RowBox[{"-", "0.01443075063646015`"}], ",", "0", ",", "0", ",", "0", ",",
      "0", ",", "0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.9947499477658396`", ",", 
     RowBox[{"-", "0.2546409128038026`"}], ",", 
     RowBox[{"-", "0.8682686110354734`"}], ",", "0.0037123475363584155`", ",", 
     RowBox[{"-", "0.003214987274162963`"}], ",", "0.0018561737681792086`", 
     ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}]}], 
  "}"}]], "Output",
 CellChangeTimes->{
  3.617201279737127*^9, 3.617202109478303*^9, 3.6172022178263903`*^9, 
   3.6172035130256214`*^9, 3.6172035664281588`*^9, {3.6172036964454656`*^9, 
   3.617203703415535*^9}, {3.617203836472934*^9, 3.6172038594853964`*^9}, {
   3.6172039015862384`*^9, 3.61720391219645*^9}, {3.6172040131124735`*^9, 
   3.6172040302828145`*^9}, {3.6172042530360556`*^9, 3.617204263416159*^9}, 
   3.6172044480980177`*^9, {3.6172060929072285`*^9, 3.6172060977771797`*^9}, {
   3.6172062859132996`*^9, 3.6172063202369576`*^9}, {3.617206660203379*^9, 
   3.617206677423379*^9}, 3.6172078415125833`*^9, 3.617214788863548*^9, {
   3.6172148652655478`*^9, 3.617214871465561*^9}, 3.6172155655475454`*^9, 
   3.617215751337414*^9, {3.6172161309153895`*^9, 3.617216136277176*^9}, {
   3.6172164190192685`*^9, 3.6172164250812683`*^9}, 3.6172184279466143`*^9, {
   3.617218570481614*^9, 3.617218575651614*^9}, 3.6172191783267384`*^9, 
   3.617219405418017*^9, {3.617378361655325*^9, 3.617378375683461*^9}, 
   3.6173811829325237`*^9, 3.617382224933282*^9, 3.6173840064022703`*^9, 
   3.617384117100958*^9, 3.6173843964651003`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"doVal", "[", 
  RowBox[{"\"\<rr\>\"", ",", "1", ",", "lucaBasis", ",", "tryMat"}], 
  "]"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172013038488145`*^9, 
   3.6172013063789916`*^9}, 3.617201819127837*^9, {3.617201872045823*^9, 
   3.6172018749268026`*^9}, {3.6172021603269143`*^9, 
   3.6172021606969624`*^9}, {3.617202527223632*^9, 3.6172025333139973`*^9}, {
   3.6172048159369307`*^9, 3.6172048327285957`*^9}, 3.6172058707195926`*^9, {
   3.617205970974588*^9, 3.617205980804293*^9}, {3.6172060571260047`*^9, 
   3.6172060579159813`*^9}, {3.6172061718684397`*^9, 3.617206215152007*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", "0.09219967847097152`", "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.024489795918367335`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.019345627838655094`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.023398019448314183`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.024489795918367335`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "0.024966235265634767`"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.617201279737127*^9, 3.617201307029037*^9}, 
   3.61720182251899*^9, 3.6172018754769897`*^9, 3.617202161717095*^9, {
   3.617204821808814*^9, 3.617204833298584*^9}, 3.6172058713295746`*^9, {
   3.617205973044526*^9, 3.617205981404275*^9}, {3.6172060488362536`*^9, 
   3.6172060588259535`*^9}, {3.617206168308475*^9, 3.6172062160319986`*^9}, 
   3.6172078417825775`*^9, 3.6172147892935476`*^9, {3.6172148658455477`*^9, 
   3.617214871845565*^9}, 3.617215565957549*^9, {3.617216130995386*^9, 
   3.617216136357173*^9}, {3.6172164190492687`*^9, 3.6172164251012683`*^9}, 
   3.6172184279566145`*^9, {3.6172185705116143`*^9, 3.6172185757016144`*^9}, 
   3.617219178346738*^9, 3.617219405438017*^9, {3.617378361666325*^9, 
   3.617378375917364*^9}, 3.61738118302182*^9, 3.617382225040654*^9, 
   3.617384006576522*^9, 3.617384117205304*^9, 3.617384396585144*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"doDrv", "[", 
   RowBox[{"\"\<rr\>\"", ",", "1", ",", "lucaBasis", ",", "tryMat"}], "]"}], "//",
   "Chop"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
   3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172021068579617`*^9, 
   3.6172021091682625`*^9}, {3.6172022158261304`*^9, 
   3.6172022172263126`*^9}, {3.6172034996854887`*^9, 
   3.6172035121956134`*^9}, {3.617203700695508*^9, 3.61720370290553*^9}, 
   3.617203851933243*^9, {3.617203909876404*^9, 3.6172039107864227`*^9}, {
   3.6172040074823604`*^9, 3.617204029632804*^9}, {3.6172042512060375`*^9, 
   3.6172042623561487`*^9}, {3.6172044197177343`*^9, 
   3.6172044461779985`*^9}, {3.617204657552129*^9, 3.61720465867214*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
    "0.6186217161240908`", ",", "0.5357421214961882`", ",", 
     "0.3093108580620458`", ",", "0.4374316104606039`", ",", 
     "0.3788268870772219`", ",", "0.21871580523030223`", ",", "1.`", ",", 
     "0.29129400160857943`", ",", 
     RowBox[{"-", "0.8302956092537218`"}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.040816326530612235`"}], ",", "0", ",", 
     "0.040816326530612235`", ",", 
     RowBox[{"-", "0.0288615012729203`"}], ",", "0", ",", 
     "0.0288615012729203`", ",", "1.`", ",", 
     RowBox[{"-", "0.2857142857142857`"}], ",", 
     RowBox[{"-", "0.8367346938775511`"}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.13587956445707572`", ",", 
     RowBox[{"-", "0.11767515467499266`"}], ",", "0.06793978222853789`", ",", 
     "0.0960813614522728`", ",", 
     RowBox[{"-", "0.08320889984786316`"}], ",", "0.04804068072613643`", ",", 
     "1.`", ",", 
     RowBox[{"-", "0.13110538110005876`"}], ",", 
     RowBox[{"-", "0.9656227580932167`"}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
    "0.07232535449939984`", ",", "0.06263559433419542`", ",", 
     "0.036162677249699966`", ",", 
     RowBox[{"-", "0.051141748618246594`"}], ",", 
     RowBox[{"-", "0.044290053497359275`"}], ",", 
     RowBox[{"-", "0.02557087430912333`"}], ",", "1.`", ",", 
     RowBox[{"-", "0.18671531481302517`"}], ",", 
     RowBox[{"-", "0.9302747824285458`"}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.040816326530612235`"}], ",", "0", ",", 
     "0.040816326530612235`", ",", "0.0288615012729203`", ",", "0", ",", 
     RowBox[{"-", "0.0288615012729203`"}], ",", "1.`", ",", 
     RowBox[{"-", "0.2857142857142857`"}], ",", 
     RowBox[{"-", "0.8367346938775511`"}], ",", "0", ",", "0", ",", "0"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "0.010500104468320837`"}], ",", "0.009093357211956341`", 
     ",", 
     RowBox[{"-", "0.005250052234160421`"}], ",", "0.007424695072716831`", 
     ",", 
     RowBox[{"-", "0.006429974548325926`"}], ",", "0.0037123475363584173`", 
     ",", "1.`", ",", 
     RowBox[{"-", "0.25918759140978076`"}], ",", 
     RowBox[{"-", "0.8656435849183931`"}], ",", "0", ",", "0", ",", "0"}], 
    "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.617201279737127*^9, 3.617202109478303*^9, 3.6172022178263903`*^9, 
   3.6172035130256214`*^9, 3.6172035664281588`*^9, {3.6172036964454656`*^9, 
   3.617203703415535*^9}, {3.617203836472934*^9, 3.6172038594853964`*^9}, {
   3.6172039015862384`*^9, 3.61720391219645*^9}, {3.6172040131124735`*^9, 
   3.6172040302828145`*^9}, {3.6172042530360556`*^9, 3.617204263416159*^9}, 
   3.6172044480980177`*^9, 3.6172046595321484`*^9, 3.6172063749164104`*^9, 
   3.6172078418225765`*^9, 3.617214789323548*^9, {3.617214865865548*^9, 
   3.617214871875565*^9}, 3.61721556598755*^9, {3.6172161310153856`*^9, 
   3.617216136397171*^9}, {3.6172164190892687`*^9, 3.6172164251412687`*^9}, 
   3.6172184279766145`*^9, {3.6172185705316143`*^9, 3.6172185757516146`*^9}, 
   3.617219178386739*^9, 3.6172194054580173`*^9, {3.6173783617398043`*^9, 
   3.6173783760651073`*^9}, 3.6173811831370897`*^9, 3.617382225174642*^9, 
   3.61738400673145*^9, 3.617384117302033*^9, 3.6173843967062073`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"doNumDrv", "[", 
  RowBox[{"\"\<rr\>\"", ",", "0", ",", "lucaBasis", ",", "tryMat", ",", 
   RowBox[{"{", 
    RowBox[{"2", ",", "3"}], "}"}], ",", "0.01"}], "]"}]], "Code",
 CellChangeTimes->{{3.617201067733345*^9, 3.6172011216772127`*^9}, {
  3.6172012149297266`*^9, 3.6172012307352047`*^9}, {3.6172013038488145`*^9, 
  3.6172013063789916`*^9}, {3.6172013788160625`*^9, 3.6172013940871315`*^9}, {
  3.617201726890482*^9, 3.617201772467975*^9}, {3.61720217029821*^9, 
  3.6172021714683623`*^9}, {3.6172067148777466`*^9, 3.6172067569901705`*^9}, {
  3.617215681114709*^9, 3.6172156898247957`*^9}}],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", "0.5000000000000115`", "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "1.0000000000000009`"}], "}"}], ",", 
   RowBox[{"{", "0.5000000000000004`", "}"}], ",", 
   RowBox[{"{", "0.5000000000000004`", "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"-", "1.0000000000000009`"}], "}"}], ",", 
   RowBox[{"{", "0.5000000000000004`", "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.6172017032724547`*^9, 3.617201773798427*^9, 3.617201920794394*^9, 
   3.617202065322563*^9, 3.6172021721284485`*^9, {3.617206716297761*^9, 
   3.617206757610177*^9}, 3.6172078420525723`*^9, 3.6172147895035477`*^9, {
   3.6172148660755477`*^9, 3.6172148721355677`*^9}, 3.617215566217552*^9, 
   3.617215610657996*^9, 3.617215642722322*^9, {3.6172156849047465`*^9, 
   3.6172156902948003`*^9}, {3.6172161310453844`*^9, 3.617216136527166*^9}, {
   3.617216419149268*^9, 3.6172164251812687`*^9}, 3.6172184280066147`*^9, {
   3.6172185706016145`*^9, 3.6172185757916145`*^9}, 3.6172191784267387`*^9, 
   3.6172194054680176`*^9, {3.617378361815249*^9, 3.617378376234291*^9}, 
   3.6173811832873297`*^9, 3.617382225295958*^9, 3.61738400689822*^9, 
   3.617384117410034*^9, 3.617384396837304*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"lucaBasisNew", "=", 
    RowBox[{"GenerateBasis", "[", 
     RowBox[{"stateVar", ",", 
      RowBox[{"polyRange", "//.", "lucaSubs"}], ",", "initPower", ",", 
      "theShock", ",", 
      RowBox[{"theMean", "//.", "lucaSubs"}], ",", 
      RowBox[{
       RowBox[{"{", "sigma$u", "}"}], "//.", "lucaSubs"}], ",", 
      RowBox[{"integOrder", "//.", "lucaSubs"}], ",", "shockPower", ",", 
      "nonStateVar"}], "]"}]}], ";"}], "\n"}]], "Input",
 CellChangeTimes->{{3.6172164381312685`*^9, 3.6172164381312685`*^9}, {
  3.6172164775912685`*^9, 3.6172164783112683`*^9}, {3.617381162016733*^9, 
  3.617381164190126*^9}}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"JavaNew", "::", "argx"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"Incorrect number or type of arguments to constructor for \
class \[NoBreak]\\!\\(\\\"gov.frb.ma.msu.ProjectionMethodToolsJava.\
WeightedStochasticBasis\\\"\\)\[NoBreak]. The arguments, shown here in a \
list, were \[NoBreak]\\!\\({\\(\\({\\\"qq\\\"}\\)\\), \
\\(\\({\\({\\(\\(-0.5`\\)\\), 0.9`}\\)}\\)\\), \\(\\({2}\\)\\), \
\\(\\({\\\"uu$Shock\\\"}\\)\\), \\(\\({0}\\)\\), \\(\\({sigma$u}\\)\\), \
\\(\\({5}\\)\\), \\(\\({1}\\)\\), \\(\\({\\\"rr\\\"}\\)\\)}\\)\[NoBreak]. \\!\
\\(\\*ButtonBox[\\\"\[RightSkeleton]\\\", ButtonStyle->\\\"Link\\\", \
ButtonFrame->None, ButtonData:>\\\"paclet:ref/message/General/argx\\\", \
ButtonNote -> \\\"JLink`JavaNew::argx\\\"]\\)\"\>"}]], "Message", "MSG",
 CellChangeTimes->{3.617381183553406*^9, 3.617382225462215*^9, 
  3.617384007113834*^9, 3.617384396987218*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["lucaBasisNew"], "Input",
 CellChangeTimes->{{3.6172192032469873`*^9, 3.6172192220971756`*^9}}],

Cell[BoxData["$Failed"], "Output",
 CellChangeTimes->{3.6172192272072268`*^9, 3.617378376754467*^9, 
  3.617381183637693*^9, 3.617382225581698*^9, 3.6173840072587442`*^9, 
  3.6173843971091022`*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Get", "[", "\"\<lucaDebugDrv.mth\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.617379474428351*^9, 3.6173794920666523`*^9}}],

Cell[BoxData["\<\"/msu/scratch/m1gsa00/jdk1.6.0_02/bin/javac -cp \
./:/msu/res1/Software/mavenRepositories/tryRep//math/nist/gov/Jama/1.0.3/Jama-\
1.0.3.jar:/msu/res1/Software/mavenRepositories/tryRep//gov/frb/ma/msu/\
ProjectionMethodToolsJava/0.0.1-SNAPSHOT/ProjectionMethodToolsJava-0.0.1-\
SNAPSHOT.jar:/lcl/ofs/research2/Guerrieri/gary/ProjectionMethodTools/\
ProjectionMethodToolsJava/code:/msu/scratch/m1gsa00/learnProjection/proto:/\
msu/scratch/m1gsa00/tryRep/gov/frb/ma/msu/projection/1.0-SNAPSHOT/projection-\
1.0-SNAPSHOT.jar:/msu/scratch/m1gsa00/tryRep/gov/frb/ma/msu/Jama-1.0.2/1.0-\
SNAPSHOT/Jama-1.0.2-1.0-SNAPSHOT.jar -target 1.5 lucaMod.java\"\>"], "Print",
 CellChangeTimes->{3.617379494370309*^9, 3.6173811838821783`*^9, 
  3.617382225861343*^9, 3.6173840077595587`*^9, 3.617384397506413*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Java", "::", "excptn"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"A Java exception occurred: \
\[NoBreak]\\!\\(\\\"java.lang.ArrayIndexOutOfBoundsException: 4\\\\n\\\\tat \
lucaMod.updateParams(lucaMod.java:30)\\\"\\)\[NoBreak].\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.6173843981790047`*^9}],

Cell[BoxData[
 RowBox[{
  StyleBox[
   RowBox[{"Java", "::", "excptn"}], "MessageName"], 
  RowBox[{
  ":", " "}], "\<\"A Java exception occurred: \
\[NoBreak]\\!\\(\\\"gov.frb.ma.msu.ProjectionMethodToolsJava.\
ProjectionRuntimeException: CollocationSolution: var>>ru) not in state\\\\n\\\
\\tat gov.frb.ma.msu.ProjectionMethodToolsJava.StateVarTime.evalVar(\
StateVarTime.java:28)\\\\n\\\\tat \
lucaMod.updateValDrv(lucaMod.java:49)\\\"\\)\[NoBreak].\"\>"}]], "Message", \
"MSG",
 CellChangeTimes->{3.617384402470682*^9}],

Cell[BoxData["\<\"modelDoEqnsCalcs.mtex\"\>"], "Output",
 CellChangeTimes->{3.61737949923201*^9, 3.617381186614153*^9, 
  3.6173822311867113`*^9, 3.617384012291444*^9, 3.617384402844891*^9}]
}, Open  ]]
}, Open  ]]
}, Open  ]]
},
WindowSize->{783, 878},
WindowMargins->{{914, Automatic}, {Automatic, 67}},
PrintingCopies->1,
PrintingPageRange->{Automatic, Automatic},
PrintingOptions->{"PaperOrientation"->"Portrait",
"PaperSize"->{Automatic, Automatic},
"PostScriptOutputFile"->""},
FrontEndVersion->"9.0 for Linux x86 (64-bit) (February 7, 2013)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[579, 22, 102, 1, 91, "Title"],
Cell[684, 25, 102, 1, 25, "Author"],
Cell[CellGroupData[{
Cell[811, 30, 208, 4, 79, "Section"],
Cell[1022, 36, 372, 10, 50, "Code"],
Cell[CellGroupData[{
Cell[1419, 50, 4534, 123, 430, "Input"],
Cell[5956, 175, 1123, 34, 50, "Output"],
Cell[7082, 211, 856, 11, 167, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7975, 227, 106, 2, 30, "Input"],
Cell[8084, 231, 286, 7, 30, "Output"]
}, Open  ]],
Cell[8385, 241, 729, 16, 107, "Input"],
Cell[9117, 259, 916, 28, 88, "Input"],
Cell[CellGroupData[{
Cell[10058, 291, 1234, 28, 107, "Input"],
Cell[11295, 321, 517, 13, 55, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11849, 339, 134, 2, 30, "Input"],
Cell[11986, 343, 137, 3, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12160, 351, 197, 4, 50, "Input"],
Cell[12360, 357, 629, 13, 86, "Message"],
Cell[12992, 372, 273, 4, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13302, 381, 202, 4, 50, "Code",
 InitializationCell->False],
Cell[13507, 387, 1242, 17, 167, "Print"],
Cell[14752, 406, 353, 9, 51, "Message"],
Cell[15108, 417, 523, 12, 115, "Message"],
Cell[15634, 431, 189, 2, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[15860, 438, 317, 6, 50, "Code"],
Cell[16180, 446, 1047, 20, 30, "Output"]
}, Open  ]],
Cell[17242, 469, 160, 2, 31, "Text"],
Cell[CellGroupData[{
Cell[17427, 475, 643, 12, 50, "Code"],
Cell[18073, 489, 1512, 32, 50, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[19622, 526, 678, 13, 50, "Code"],
Cell[20303, 541, 2782, 57, 126, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[23122, 603, 234, 5, 30, "Input"],
Cell[23359, 610, 1167, 32, 50, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[24563, 647, 684, 13, 50, "Code"],
Cell[25250, 662, 2807, 57, 126, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[28094, 724, 832, 14, 50, "Code"],
Cell[28929, 740, 2367, 52, 126, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[31333, 797, 864, 15, 50, "Code"],
Cell[32200, 814, 3197, 58, 164, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[35434, 877, 707, 11, 50, "Code"],
Cell[36144, 890, 1354, 25, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[37535, 920, 761, 13, 50, "Code"],
Cell[38299, 935, 3440, 71, 183, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[41776, 1011, 621, 10, 50, "Code"],
Cell[42400, 1023, 1217, 22, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[43654, 1050, 664, 15, 88, "Input"],
Cell[44321, 1067, 927, 16, 56, "Message"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45285, 1088, 108, 1, 30, "Input"],
Cell[45396, 1091, 198, 3, 30, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[45631, 1099, 147, 2, 30, "Input"],
Cell[45781, 1103, 812, 10, 167, "Print"],
Cell[46596, 1115, 355, 9, 51, "Message"],
Cell[46954, 1126, 523, 12, 115, "Message"],
Cell[47480, 1140, 190, 2, 30, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
